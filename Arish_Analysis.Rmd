---
title: "Mudra Rakshasa & Tong, 2019"
author: "Michelle T. Tong"
date: " July 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This is the documentation for the analyses done on Mudra Rakshasa & Tong, 2019 data on the effects of social-housing, chronic stress, and decision-making.

The data were initially entered in SPSS as an .sav file. First, we need to convert the .sav file into a dataframe, using the library "foreign"

```{r}
setwd("~/Dropbox/Arish_SeniorResearch_Fall2018/Data_Results/MTTanalysis")
library(foreign)
arish = read.spss("DataAnalysis.sav", to.data.frame=TRUE)
write.table(arish,"DataAnalysis.txt")
```

Now we have a dataframe, "arish," which is a wide-form of all the data: MouseID, Condition (either Socially-Housed, as shown below, or Singly-Housed), and then columns for DVs from pre- and post-stress Open Field, Conflict-Based Choice task, and corticosterone ELISAs.

``` {r}
head(arish)
```

Now, I'll basically think of the data as three different datasets since we have essentially three dependent variables. The code below from the reshape2 library lets me easily create a long-from dataframe from "arish" using the melt function. I only show the top few rows for arishELISA as an example of the long-form. arishCBC and arishopenfield have the same structure.

```{r}
library(reshape2)
#str(arish)
arishopenfield = melt(arish, id.vars = c("Mouse","Condition"), measure.vars = c("Pre_Open_Time","Post_Open_Time"))
#View(arishopenfield)

arishCBC = melt(arish, id.vars = c("Mouse","Condition"), measure.vars = c("Pre_CBC_Choice", "Post_CBC_Choice"))
#View(arishCBC)

arishELISA = melt(arish, id.vars = c("Mouse","Condition"), measure.vars = c("Pre_ELISA", "Post_ELISA"))
#View(arishELISA)
head(arishELISA)
```

We can
```{r}
library(lme4)
library(lmerTest)
```